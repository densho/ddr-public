{% extends "ui/collections/base.html" %}
{% load thumbnail ui_tags %}

{% block parent %}
<div id="parent">
<a href="{{ parent.absolute_url }}"><span class="label label-default">{{ parent.id }}</span></a>
<a href="{{ parent.absolute_url }}">{{ parent.title|safe }}</a>
</div>
{% endblock %}

{% block title %}
{{ object.id }} {% if object.title %}&mdash;{% endif %} {{ object.title|safe }}
{% endblock %}

{% block pagetitle %}
<span class="label label-default">{{ object.id }}</span>
{{ object.title|safe }}
{% endblock %}

{% block breadcrumbs %}{{ block.super }}
{% breadcrumbs object.identifier.breadcrumbs %}
{% endblock breadcrumbs %}

{% block content %}

<section id="shop" class="container">

    <div class="row">
        <!-- left content -->
        <div class="col-sm-7 col-md-7">
            <h2>{{ object.title|safe }}</h2>

{% if object.signature_url %}
  {% thumbnail object.signature_url_local "480x480" as img %}
        <a href="{{ object.signature_url }}" class="lightbox img-thumbnail" data-plugin-options="{"type":"image"}">
          <img src="{{ img.url }}" class="img-responsive">
        </a><br />
  {% endthumbnail %}
{% if object.signature and object.signature.access_path %}
        <a href="{{ DOWNLOAD_URL }}{{ object.signature.access_path }}" class="btn btn-default btn-xs"><i class="fa fa-download"></i> Download large size</a>
{% endif %}

        {% rightspanel object.rights %}
        {% endif %}
        </div>
        <!-- right meta -->
        <div class="col-sm-5 col-md-5">

            {% addthis %}

            <div class="desc productDescription">
                <!-- entity.partner -->
                <h3 class="page-header">PARTNER</h3>
                    {% include "ui/partnerlogolink.html" %}
                    <!-- entity.entity_id -->
                    <h3 class="page-header">OBJECT ID</h3>
                    <p>
                    {{ object.id }}
                    {% if object.alternate_id != None and "denshouid" not in object.alternate_id %}
                    <span class="small">({{ object.alternate_id }})</span>
                    {% endif %}
                    </p>
                    <!-- entity.collection -->
                    <h3 class="page-header">PARENT COLLECTION</h3>
                    <p>
                    <a href="{{ parent.absolute_url }}">{{ parent.title }}</a>
                    </p>
                    <!-- entity.description -->
                    <h3 class="page-header">DESCRIPTION</h3>
                    <p>
                    {{ object.description|safe }}
                    </p>

                    <!-- core meta -->
                    <div class="row">
                        <div class="col-md-5 col-sm-5">
                            <!-- entity.creation -->
                            <h3 class="page-header">DATE</h3>
                            <p>
                                {{ object.creation }}
                            </p>
                        </div>

                        <div class="col-md-7 col-sm-7">
                            <!-- entity.location -->
                            <h3 class="page-header">LOCATION</h3>
                            {{ object.fields|ddrvalue:"location" }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-5 col-sm-5">
                            <!-- entity.genre -->
                            <h3 class="page-header">OBJECT GENRE</h3>
                            {{ object.fields|ddrvalue:"genre" }}
                        </div>
                        <div class="col-md-7 col-sm-7">
                            <!-- entity.format -->
                            <h3 class="page-header">OBJECT FORMAT</h3>
                            {{ object.fields|ddrvalue:"format" }}
                        </div>
                    </div>
                    <div class="row">    
                        <div class="col-md-5 col-sm-5">
                            <!-- entity.topic_terms -->
                            <h3 class="page-header">TOPICS</h3>
                            <ul class="list-unstyled">
                                {% for term in object.topic_terms %}
                                <li><a href="{{ term.url }}">{{ term.title }}</a></li>
                                {% endfor %}
                            </ul>
                        </div>
                        <div class="col-md-7 col-sm-7">
                            <!-- entity.facility -->
                            <h3 class="page-header">FACILITY</h3>
                            <ul class="list-unstyled">
                              {% for term in facilities %}
                              <li><a href="{% url "ui-browse-term" "facility" term.id %}">{{ term.term }}<a/></li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-5 col-sm-5">
                            <!-- entity.creators -->
                            <h3 class="page-header">CREATORS</h3>
                            <ul class="list-unstyled">
                              {% for term in creators %}
                              <li>{{ term.namepart }} ({{ term.role }})</li>
                              {% endfor %}
                            </ul>
                        </div>
                        <div class="col-md-7 col-sm-7">
                            <!-- entity.persons -->
                            <h3 class="page-header">PERSONS/ORGANIZATIONS</h3>
                            {{ object.fields|ddrvalue:"persons" }}
                        </div>
                    </div>
                    <!-- /core meta -->	
                    <h3 class="page-header">CONTRIBUTOR</h3>
                    <p>
                        {{ object.contributor }}
                    </p>
                    <!-- entity.credit -->
                    <h3 class="page-header">PREFERRED CITATION</h3>
                    <p>
                        {{ object.credit }}
                    </p>
                    <!-- entity.rights -->
                    <h3 class="page-header">RIGHTS</h3>
                    {{ object.fields|ddrvalue:"rights" }}

                </div>	
            </div>
    </div>

    <div class="row">
        <div class="col-sm-12 col-md-12">

          <h3>
            <a href="{% url "ui-object-children" object.identifier.id %}">
              {{ children_paginator.count }} Objects
            </a>
          </h3>
          {% for file in children_page.object_list %}
          {% document file %}
          {% endfor %}
          {% if children_paginator.count > 10 %}
          <br />
          <p>
            <a class="btn btn-primary btn-md" href="{% url "ui-object-children" object.identifier.id %}">See all objects <i class="fa fa-arrow-circle-right"></i></a>
          </p>
          {% endif %}

          <h3>
            <a href="{% url "ui-object-nodes" object.identifier.id %}">
              {{ nodes_paginator.count }} Files
            </a>
          </h3>
          {% for file in nodes_page.object_list %}
          {% document file %}
          {% endfor %}
          {% if nodes_paginator.count > 10 %}
          <br />
          <p>
            <a class="btn btn-primary btn-md" href="{% url "ui-object-nodes" object.identifier.id %}">See all files <i class="fa fa-arrow-circle-right"></i></a>
          </p>
          {% endif %}
            
        </div>

    </div><!-- .row -->

    <div class="row">
        <div class="col-sm-12 col-md-12 text-muted text-right">
            <small><a class="api" href="{{ object.api_url }}">API</a></small>
        </div>
    </div><!-- .row -->
  
</section>
{% endblock content %}

{% block footer %}
{% if object.backend_url %}&bull; <a href="{{ object.backend_url }}">json</a>{% endif %}
{% endblock footer %}
